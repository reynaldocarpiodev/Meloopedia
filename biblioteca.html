<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca Musical ‚Äî Meloopedia</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Estilos espec√≠ficos para la Biblioteca Musical */
        .biblioteca-hero {
            background: linear-gradient(135deg, var(--color-primario) 0%, var(--color-secundario) 100%);
            padding: 120px var(--spacing-md) var(--spacing-xl);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .biblioteca-hero::before {
            content: 'üìö';
            position: absolute;
            font-size: 20rem;
            color: rgba(212, 175, 55, 0.05);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .biblioteca-hero-content {
            position: relative;
            z-index: 1;
        }

        .biblioteca-hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: var(--spacing-sm);
            background: linear-gradient(135deg, var(--color-acento), #f4d03f);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .biblioteca-filters {
            display: flex;
            justify-content: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: var(--spacing-xs) var(--spacing-md);
            background: transparent;
            border: 2px solid var(--color-borde);
            border-radius: 25px;
            color: var(--color-texto-muted);
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
        }

        .filter-btn:hover {
            border-color: var(--color-acento);
            color: var(--color-acento);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, var(--color-acento), #f4d03f);
            border-color: var(--color-acento);
            color: var(--color-fondo);
        }

        .biblioteca-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--spacing-lg);
            padding: var(--spacing-xl) var(--spacing-md);
        }

        .biblioteca-item {
            background: linear-gradient(145deg, var(--color-primario), var(--color-secundario));
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid var(--color-borde);
            transition: all var(--transition-normal);
            cursor: pointer;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .biblioteca-item:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--color-acento);
            box-shadow: 0 15px 40px rgba(212, 175, 55, 0.3);
        }

        .biblioteca-item-image {
            width: 100%;
            height: 250px;
            overflow: hidden;
            position: relative;
        }

        .biblioteca-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform var(--transition-slow);
        }

        .biblioteca-item:hover .biblioteca-item-image img {
            transform: scale(1.15);
        }

        .biblioteca-item-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, var(--color-acento), #f4d03f);
            color: var(--color-fondo);
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-weight: 700;
            font-size: 0.85rem;
            z-index: 2;
            box-shadow: 0 4px 10px rgba(212, 175, 55, 0.3);
        }

        .biblioteca-item-content {
            padding: var(--spacing-md);
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .biblioteca-item-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--color-acento);
            margin-bottom: var(--spacing-xs);
        }

        .biblioteca-item-author {
            color: var(--color-texto-muted);
            font-size: 0.9rem;
            margin-bottom: var(--spacing-sm);
        }

        .biblioteca-item-description {
            color: var(--color-texto);
            line-height: 1.7;
            margin-bottom: var(--spacing-md);
            flex: 1;
        }

        .biblioteca-item-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: var(--spacing-sm);
            border-top: 1px solid var(--color-borde);
            font-size: 0.85rem;
            color: var(--color-texto-muted);
        }

        .biblioteca-item-type {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .biblioteca-item-actions {
            display: flex;
            gap: var(--spacing-xs);
        }

        .biblioteca-btn {
            padding: 0.5rem 1rem;
            background: transparent;
            border: 1px solid var(--color-acento);
            border-radius: 8px;
            color: var(--color-acento);
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
        }

        .biblioteca-btn:hover {
            background: var(--color-acento);
            color: var(--color-fondo);
        }

        /* Modo claro */
        body.light-mode .biblioteca-hero {
            background: linear-gradient(135deg, var(--color-primario-claro), #e5e7eb);
        }

        body.light-mode .biblioteca-item {
            background: var(--color-primario-claro);
            border-color: #e5e7eb;
        }

        body.light-mode .biblioteca-item:hover {
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }

        body.light-mode .biblioteca-item-description {
            color: var(--color-texto-claro);
        }

        body.light-mode .filter-btn {
            border-color: #e5e7eb;
            color: var(--color-texto-muted-claro);
        }

        /* Modal de Documento */
        .modal-document {
            max-width: 1000px;
            max-height: 95vh;
            display: flex;
            flex-direction: column;
        }

        .modal-document-header {
            padding: var(--spacing-lg);
            border-bottom: 2px solid var(--color-borde);
            background: linear-gradient(135deg, var(--color-primario), var(--color-secundario));
        }

        .document-header-info h2 {
            font-size: 2rem;
            color: var(--color-acento);
            margin-bottom: var(--spacing-md);
        }

        .document-meta {
            display: flex;
            gap: var(--spacing-md);
            flex-wrap: wrap;
            font-size: 0.9rem;
            color: var(--color-texto-muted);
        }

        .document-meta span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .modal-document-body {
            flex: 1;
            padding: var(--spacing-xl);
            overflow-y: auto;
            background: var(--color-primario);
        }

        .document-content {
            line-height: 1.8;
            color: var(--color-texto);
            font-size: 1.05rem;
        }

        .document-content h1,
        .document-content h2,
        .document-content h3 {
            color: var(--color-acento);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-md);
        }

        .document-content h1 {
            font-size: 2rem;
            border-bottom: 2px solid var(--color-acento);
            padding-bottom: var(--spacing-xs);
        }

        .document-content h2 {
            font-size: 1.5rem;
        }

        .document-content h3 {
            font-size: 1.25rem;
        }

        .document-content p {
            margin-bottom: var(--spacing-md);
            text-align: justify;
        }

        .document-content ul,
        .document-content ol {
            margin: var(--spacing-md) 0;
            padding-left: var(--spacing-lg);
        }

        .document-content li {
            margin-bottom: var(--spacing-xs);
        }

        .document-content blockquote {
            border-left: 4px solid var(--color-acento);
            padding-left: var(--spacing-md);
            margin: var(--spacing-md) 0;
            font-style: italic;
            color: var(--color-texto-muted);
        }

        .document-description {
            font-size: 1.1rem;
            color: var(--color-texto-muted);
            font-style: italic;
            margin-bottom: var(--spacing-lg);
            padding: var(--spacing-md);
            background: rgba(212, 175, 55, 0.1);
            border-left: 4px solid var(--color-acento);
            border-radius: 5px;
        }

        .document-placeholder {
            text-align: center;
            padding: var(--spacing-xl);
            color: var(--color-texto-muted);
        }

        .modal-document-footer {
            padding: var(--spacing-md) var(--spacing-lg);
            border-top: 2px solid var(--color-borde);
            display: flex;
            gap: var(--spacing-md);
            justify-content: flex-end;
            background: var(--color-primario);
        }

        .btn {
            padding: var(--spacing-sm) var(--spacing-lg);
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--color-acento), #f4d03f);
            color: var(--color-fondo);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: var(--color-texto);
            border: 2px solid var(--color-borde);
        }

        .btn-secondary:hover {
            border-color: var(--color-acento);
            color: var(--color-acento);
        }

        body.light-mode .modal-document-header {
            background: linear-gradient(135deg, var(--color-primario-claro), #e5e7eb);
        }

        body.light-mode .document-content {
            color: var(--color-texto-claro);
        }

        body.light-mode .document-meta {
            color: var(--color-texto-muted-claro);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .biblioteca-hero h1 {
                font-size: 2.5rem;
            }

            .biblioteca-grid {
                grid-template-columns: 1fr;
            }

            .biblioteca-item-image {
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Fondo Musical Animado -->
    <div class="musical-background">
        <div class="musical-waves">
            <div class="wave wave-1"></div>
            <div class="wave wave-2"></div>
            <div class="wave wave-3"></div>
            <div class="wave wave-4"></div>
        </div>
        <div class="musical-notes">
            <div class="note note-1">‚ô™</div>
            <div class="note note-2">‚ô´</div>
            <div class="note note-3">‚ô¨</div>
            <div class="note note-4">‚ô©</div>
            <div class="note note-5">‚ô≠</div>
            <div class="note note-6">‚ôØ</div>
            <div class="note note-7">‚ô™</div>
            <div class="note note-8">‚ô´</div>
        </div>
        <div class="audio-visualizer">
            <div class="bar bar-1"></div>
            <div class="bar bar-2"></div>
            <div class="bar bar-3"></div>
            <div class="bar bar-4"></div>
            <div class="bar bar-5"></div>
            <div class="bar bar-6"></div>
            <div class="bar bar-7"></div>
            <div class="bar bar-8"></div>
            <div class="bar bar-9"></div>
            <div class="bar bar-10"></div>
        </div>
        <div class="musical-pattern">
            <div class="pattern-line line-1"></div>
            <div class="pattern-line line-2"></div>
            <div class="pattern-line line-3"></div>
            <div class="pattern-line line-4"></div>
            <div class="pattern-line line-5"></div>
        </div>
    </div>
    
    <!-- Barra de Navegaci√≥n -->
    <header class="header" id="header">
        <nav class="nav">
            <div class="nav-logo">
                <a href="index.html" style="text-decoration: none; color: inherit; display: flex; align-items: center;">
                    <img src="logo.svg" alt="Meloopedia" class="logo-image">
                </a>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="artistas.html" class="nav-link">Artistas por Pa√≠s</a></li>
                <li><a href="generos.html" class="nav-link">G√©neros</a></li>
                <li><a href="trivia.html" class="nav-link">Trivia</a></li>
                <li><a href="mapa.html" class="nav-link">Mapa</a></li>
                <li><a href="educacion.html" class="nav-link">Educaci√≥n</a></li>
                <li><a href="emergentes.html" class="nav-link">Emergentes</a></li>
                <li><a href="leyendas.html" class="nav-link">Leyendas</a></li>
                <li><a href="biblioteca.html" class="nav-link active">Biblioteca</a></li>
                <li><a href="buscar.html" class="nav-link">Buscar</a></li>
            </ul>
            <div class="nav-actions">
                <a href="login.html" class="btn-login" id="btnLogin">
                    <span class="btn-login-icon">üîê</span>
                    <span class="btn-login-text">Iniciar Sesi√≥n</span>
                </a>
                <div class="user-profile" id="userProfile" style="display: none;">
                    <span class="profile-icon">üë§</span>
                    <span class="profile-name" id="profileName"></span>
                    <button class="btn-logout" id="btnLogout" title="Cerrar sesi√≥n">‚úï</button>
                </div>
                <button class="theme-toggle" id="themeToggle" aria-label="Cambiar tema">
                    <span class="theme-icon">üåô</span>
                </button>
                <button class="menu-toggle" id="menuToggle" aria-label="Men√∫">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="biblioteca-hero">
        <div class="biblioteca-hero-content">
            <h1>üìö Biblioteca Musical</h1>
            <p style="font-size: 1.2rem; color: var(--color-texto-muted); max-width: 700px; margin: 0 auto;">
                Explora nuestra colecci√≥n de libros, documentos y recursos sobre m√∫sica. Aprende sobre historia, teor√≠a, g√©neros y m√°s.
            </p>
        </div>
    </section>

    <!-- Filtros -->
    <section class="section">
        <div class="container">
            <div class="biblioteca-filters">
                <button class="filter-btn active" data-filter="all">Todos</button>
                <button class="filter-btn" data-filter="libros">üìñ Libros</button>
                <button class="filter-btn" data-filter="documentos">üìÑ Documentos</button>
                <button class="filter-btn" data-filter="articulos">üì∞ Art√≠culos</button>
                <button class="filter-btn" data-filter="biografias">üë§ Biograf√≠as</button>
                <button class="filter-btn" data-filter="teoria">üéº Teor√≠a Musical</button>
            </div>

            <!-- Grid de Recursos -->
            <div class="biblioteca-grid" id="bibliotecaGrid">
                <!-- Los recursos se cargar√°n din√°micamente -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <img src="logo.svg" alt="Meloopedia" class="logo-image-footer">
                    </div>
                    <p>La enciclopedia musical m√°s completa del mundo. Descubre artistas, g√©neros y culturas musicales.</p>
                </div>
                <div class="footer-section">
                    <h4>Navegaci√≥n</h4>
                    <ul>
                        <li><a href="artistas.html">Artistas</a></li>
                        <li><a href="mapa.html">Mapa Musical</a></li>
                        <li><a href="trivia.html">Trivia</a></li>
                        <li><a href="educacion.html">Educaci√≥n</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Informaci√≥n</h4>
                    <ul>
                        <li><a href="#acerca">Acerca de</a></li>
                        <li><a href="#contacto">Contacto</a></li>
                        <li><a href="#terminos">T√©rminos</a></li>
                        <li><a href="#privacidad">Privacidad</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Redes Sociales</h4>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook">üìò</a>
                        <a href="#" aria-label="Twitter">üê¶</a>
                        <a href="#" aria-label="Instagram">üì∑</a>
                        <a href="#" aria-label="YouTube">‚ñ∂Ô∏è</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Meloopedia. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Modal de Lectura de Documento -->
    <div class="modal" id="documentModal">
        <div class="modal-content modal-document">
            <span class="modal-close" id="documentModalClose">&times;</span>
            <div class="modal-document-header" id="documentHeader"></div>
            <div class="modal-document-body" id="documentBody"></div>
            <div class="modal-document-footer">
                <button class="btn btn-primary" id="downloadBtn">üì• Descargar Documento</button>
                <button class="btn btn-secondary" id="closeModalBtn">Cerrar</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="auth.js"></script>
    <script>
        // Recursos de la biblioteca musical
        const recursosBiblioteca = [
            {
                id: 1,
                titulo: "Historia de la M√∫sica Popular",
                autor: "David Brackett",
                tipo: "libros",
                descripcion: "Una exploraci√≥n completa de la m√∫sica popular desde sus or√≠genes hasta la actualidad, cubriendo todos los g√©neros principales y sus influencias culturales.",
                imagen: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=600&h=400&fit=crop",
                a√±o: "2020",
                paginas: "450",
                idioma: "Espa√±ol",
                contenido: `
                    <h1>Historia de la M√∫sica Popular</h1>
                    <p class="document-description">Una exploraci√≥n completa de la m√∫sica popular desde sus or√≠genes hasta la actualidad, cubriendo todos los g√©neros principales y sus influencias culturales.</p>
                    
                    <h2>Introducci√≥n</h2>
                    <p>La m√∫sica popular es una expresi√≥n cultural que ha evolucionado a lo largo de siglos, reflejando los cambios sociales, pol√≠ticos y tecnol√≥gicos de cada √©poca. Desde sus ra√≠ces en las comunidades rurales hasta su transformaci√≥n en un fen√≥meno global, la m√∫sica popular ha sido siempre el espejo de la sociedad.</p>
                    
                    <h2>Los Or√≠genes</h2>
                    <p>Los or√≠genes de la m√∫sica popular se remontan a las tradiciones folcl√≥ricas de diferentes culturas alrededor del mundo. En el siglo XIX, la industrializaci√≥n y la migraci√≥n urbana crearon nuevas formas de entretenimiento musical que comenzaron a distanciarse de las tradiciones cl√°sicas.</p>
                    
                    <p>El desarrollo de tecnolog√≠as como el fon√≥grafo y la radio en las primeras d√©cadas del siglo XX revolucionaron completamente c√≥mo la m√∫sica se produc√≠a, distribu√≠a y consum√≠a. Esto marc√≥ el inicio de la industria musical moderna.</p>
                    
                    <h2>El Siglo XX: Una Revoluci√≥n Musical</h2>
                    <h3>La Era del Jazz y el Blues (1900-1940)</h3>
                    <p>El jazz emergi√≥ de las comunidades afroamericanas de Nueva Orleans a principios del siglo XX. Con ra√≠ces en el blues, el ragtime y las tradiciones musicales africanas, el jazz se convirti√≥ en la primera forma verdaderamente estadounidense de m√∫sica popular.</p>
                    
                    <p>Artistas como Louis Armstrong, Duke Ellington y Ella Fitzgerald llevaron el jazz a audiencias masivas, estableciendo est√°ndares de interpretaci√≥n y composici√≥n que influenciar√≠an generaciones futuras.</p>
                    
                    <h3>El Rock and Roll (1950-1960)</h3>
                    <p>La d√©cada de 1950 vio el nacimiento del rock and roll, una fusi√≥n explosiva de rhythm and blues, country y gospel. Elvis Presley, Chuck Berry y Little Richard se convirtieron en las primeras superestrellas de este nuevo g√©nero que captur√≥ la imaginaci√≥n de los j√≥venes de todo el mundo.</p>
                    
                    <blockquote>"El rock and roll no es solo m√∫sica, es una actitud, un estilo de vida, una forma de expresar la rebeld√≠a juvenil." - Chuck Berry</blockquote>
                    
                    <h3>La Invasi√≥n Brit√°nica y el Pop (1960-1970)</h3>
                    <p>Los a√±os 60 trajeron la "Invasi√≥n Brit√°nica" liderada por The Beatles y The Rolling Stones. Estos grupos transformaron la m√∫sica popular, introduciendo experimentaci√≥n sonora, letras m√°s sofisticadas y una producci√≥n musical m√°s elaborada.</p>
                    
                    <h2>Los G√©neros Modernos</h2>
                    <h3>Hip Hop y Rap</h3>
                    <p>Emergiendo del Bronx en la d√©cada de 1970, el hip hop se convirti√≥ en la voz de las comunidades urbanas marginadas. Desde sus humildes comienzos en block parties, el hip hop ha evolucionado hasta convertirse en uno de los g√©neros m√°s influyentes a nivel global.</p>
                    
                    <h3>M√∫sica Electr√≥nica</h3>
                    <p>El desarrollo de sintetizadores y tecnolog√≠a de producci√≥n digital dio lugar a g√©neros completamente nuevos como el house, techno, trance y m√°s recientemente, el EDM. La m√∫sica electr√≥nica ha transformado no solo c√≥mo se produce m√∫sica, sino tambi√©n c√≥mo se experimenta en conciertos y festivales.</p>
                    
                    <h2>La Era Digital</h2>
                    <p>El siglo XXI ha sido testigo de cambios fundamentales en la industria musical. El streaming ha reemplazado a la venta de √°lbumes f√≠sicos, y las plataformas digitales han democratizado el acceso tanto a la creaci√≥n como al consumo de m√∫sica.</p>
                    
                    <p>Artistas independientes ahora pueden alcanzar audiencias globales sin necesidad de grandes sellos discogr√°ficos, mientras que los oyentes tienen acceso instant√°neo a millones de canciones de todo el mundo.</p>
                    
                    <h2>Conclusi√≥n</h2>
                    <p>La m√∫sica popular contin√∫a evolucionando, adapt√°ndose a nuevos contextos culturales y tecnol√≥gicos. Lo que permanece constante es su capacidad para unir personas, expresar emociones y reflejar los tiempos en que vivimos. La historia de la m√∫sica popular es, en esencia, la historia de la humanidad contada a trav√©s del sonido.</p>
                `
            },
            {
                id: 2,
                titulo: "Teor√≠a Musical Completa",
                autor: "Miguel √Ångel Roig-Francol√≠",
                tipo: "teoria",
                descripcion: "Gu√≠a completa sobre teor√≠a musical, armon√≠a, contrapunto y an√°lisis musical. Ideal para estudiantes y m√∫sicos profesionales.",
                imagen: "https://images.unsplash.com/photo-1511192336575-5a79af67a629?w=600&h=400&fit=crop",
                a√±o: "2019",
                paginas: "680",
                idioma: "Espa√±ol"
            },
            {
                id: 3,
                titulo: "Bob Dylan: La Biograf√≠a",
                autor: "Howard Sounes",
                tipo: "biografias",
                descripcion: "Biograf√≠a autorizada del legendario cantautor Bob Dylan, desde sus inicios en Minnesota hasta convertirse en Premio Nobel de Literatura.",
                imagen: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=600&h=400&fit=crop",
                a√±o: "2021",
                paginas: "520",
                idioma: "Espa√±ol",
                contenido: `
                    <h1>Bob Dylan: La Biograf√≠a</h1>
                    <p class="document-description">Biograf√≠a autorizada del legendario cantautor Bob Dylan, desde sus inicios en Minnesota hasta convertirse en Premio Nobel de Literatura.</p>
                    
                    <h2>Los Primeros A√±os</h2>
                    <p>Robert Allen Zimmerman naci√≥ el 24 de mayo de 1941 en Duluth, Minnesota. Creci√≥ en la peque√±a ciudad de Hibbing, donde desarroll√≥ un temprano inter√©s por la m√∫sica. Sus influencias incluyeron artistas de blues como Muddy Waters y Hank Williams del country.</p>
                    
                    <h2>El Nacimiento de Bob Dylan</h2>
                    <p>En 1959, Zimmerman se matricul√≥ en la Universidad de Minnesota, pero su verdadera educaci√≥n tuvo lugar en los clubes de folk de Dinkytown. Fue aqu√≠ donde adopt√≥ el nombre art√≠stico "Bob Dylan", inspirado en el poeta Dylan Thomas.</p>
                    
                    <h2>El Movimiento a Nueva York</h2>
                    <p>En enero de 1961, Dylan dej√≥ la universidad y se traslad√≥ a Nueva York, donde esperaba conocer a su √≠dolo Woody Guthrie, quien estaba hospitalizado. Dylan r√°pidamente se convirti√≥ en una figura destacada en la escena folk de Greenwich Village.</p>
                    
                    <h2>La Era del Folk Revival</h2>
                    <p>Sus primeros √°lbumes, "Bob Dylan" (1962) y "The Freewheelin' Bob Dylan" (1963), establecieron su reputaci√≥n como compositor de canciones de protesta. Temas como "Blowin' in the Wind" y "The Times They Are a-Changin'" se convirtieron en himnos del movimiento de derechos civiles y la contracultura de los a√±os 60.</p>
                    
                    <blockquote>"No hay nada como escribir una canci√≥n. Es lo que te hace seguir adelante." - Bob Dylan</blockquote>
                    
                    <h2>La Revoluci√≥n El√©ctrica</h2>
                    <p>En 1965, Dylan caus√≥ controversia al "volverse el√©ctrico" en el Newport Folk Festival, acompa√±ado por una banda de rock. Este cambio marc√≥ una evoluci√≥n art√≠stica que alien√≥ a algunos puristas del folk pero abri√≥ nuevos caminos musicales.</p>
                    
                    <h2>Premio Nobel de Literatura</h2>
                    <p>En 2016, Dylan hizo historia al convertirse en el primer m√∫sico en recibir el Premio Nobel de Literatura. La Academia Sueca lo honr√≥ "por haber creado nuevas expresiones po√©ticas dentro de la gran tradici√≥n de la canci√≥n estadounidense".</p>
                    
                    <h2>Legado y Influencia</h2>
                    <p>Con m√°s de 60 a√±os de carrera, Bob Dylan ha publicado m√°s de 40 √°lbumes de estudio y ha escrito m√°s de 500 canciones. Su influencia se extiende a trav√©s de generaciones de m√∫sicos, poetas y artistas, y sus letras siguen siendo estudiadas en universidades de todo el mundo.</p>
                `
            },
            {
                id: 4,
                titulo: "El Jazz: Su Historia y Evoluci√≥n",
                autor: "Ted Gioia",
                tipo: "libros",
                descripcion: "Historia completa del jazz desde Nueva Orleans hasta el jazz moderno, incluyendo todos los grandes m√∫sicos y movimientos.",
                imagen: "https://images.unsplash.com/photo-1511192336575-5a79af67a629?w=600&h=400&fit=crop",
                a√±o: "2018",
                paginas: "600",
                idioma: "Espa√±ol"
            },
            {
                id: 5,
                titulo: "Documento: Or√≠genes del Rock and Roll",
                autor: "Instituto de M√∫sica Popular",
                tipo: "documentos",
                descripcion: "Documento acad√©mico sobre los or√≠genes del rock and roll en los a√±os 50, su impacto social y evoluci√≥n cultural.",
                imagen: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=600&h=400&fit=crop",
                a√±o: "2022",
                paginas: "85",
                idioma: "Espa√±ol",
                contenido: `
                    <h1>Or√≠genes del Rock and Roll</h1>
                    <p class="document-description">Documento acad√©mico sobre los or√≠genes del rock and roll en los a√±os 50, su impacto social y evoluci√≥n cultural.</p>
                    
                    <h2>Introducci√≥n</h2>
                    <p>El rock and roll emergi√≥ en los Estados Unidos durante la d√©cada de 1950 como una s√≠ntesis de diversos g√©neros musicales, incluyendo rhythm and blues, country, gospel y blues. Este nuevo estilo musical no solo transform√≥ la industria del entretenimiento, sino que tambi√©n reflej√≥ y cataliz√≥ cambios sociales significativos en la sociedad estadounidense de posguerra.</p>
                    
                    <h2>Antecedentes Musicales</h2>
                    <h3>Rhythm and Blues</h3>
                    <p>El rhythm and blues (R&B), desarrollado por artistas afroamericanos en las d√©cadas de 1940 y 1950, proporcion√≥ la base r√≠tmica y estructural del rock and roll. Artistas como Chuck Berry, Little Richard y Fats Domino incorporaron elementos de blues, swing y boogie-woogie en sus interpretaciones.</p>
                    
                    <h3>Country y Western</h3>
                    <p>La m√∫sica country aport√≥ elementos mel√≥dicos y narrativos al rock and roll. Muchos de los primeros int√©rpretes de rock, como Elvis Presley y Buddy Holly, ten√≠an ra√≠ces en la m√∫sica country y fusionaron estos elementos con el R&B.</p>
                    
                    <h2>El Nacimiento del Rock and Roll</h2>
                    <p>1954-1956 es com√∫nmente considerado el per√≠odo de nacimiento del rock and roll. Eventos clave incluyen:</p>
                    <ul>
                        <li><strong>1954:</strong> Elvis Presley graba "That's All Right" en Sun Records</li>
                        <li><strong>1955:</strong> Bill Haley & His Comets alcanzan el n√∫mero uno con "Rock Around the Clock"</li>
                        <li><strong>1956:</strong> Chuck Berry lanza "Roll Over Beethoven" y "Johnny B. Goode"</li>
                    </ul>
                    
                    <h2>Impacto Social y Cultural</h2>
                    <h3>Integraci√≥n Racial</h3>
                    <p>El rock and roll fue uno de los primeros g√©neros musicales que cruz√≥ las barreras raciales en Estados Unidos. Aunque muchos artistas afroamericanos fueron versionados por artistas blancos (un fen√≥meno conocido como "cover"), el rock and roll tambi√©n permiti√≥ que artistas negros alcanzaran audiencias blancas masivas.</p>
                    
                    <h3>Rebeld√≠a Juvenil</h3>
                    <p>El rock and roll se convirti√≥ en la banda sonora de la rebeld√≠a juvenil de los a√±os 50. Las letras sobre romance, libertad y desaf√≠o a la autoridad resonaron profundamente con la generaci√≥n joven que buscaba expresar su identidad independiente.</p>
                    
                    <blockquote>"El rock and roll es m√∫sica de rebeld√≠a, pero tambi√©n es m√∫sica de uni√≥n." - An√≥nimo</blockquote>
                    
                    <h2>Expansi√≥n y Evoluci√≥n</h2>
                    <p>A lo largo de las d√©cadas siguientes, el rock and roll evolucion√≥ en m√∫ltiples subg√©neros: rockabilly, surf rock, garage rock, punk, metal y muchos otros. Cada variante reflej√≥ las preocupaciones y est√©ticas de su √©poca.</p>
                    
                    <h2>Conclusi√≥n</h2>
                    <p>El rock and roll no fue simplemente un g√©nero musical; fue un movimiento cultural que transform√≥ la sociedad estadounidense y, posteriormente, mundial. Sus or√≠genes en la s√≠ntesis de tradiciones musicales diversas reflejan la complejidad y riqueza de la cultura estadounidense, mientras que su impacto social demuestra el poder de la m√∫sica para unir, dividir y transformar.</p>
                `
            },
            {
                id: 6,
                titulo: "Michael Jackson: El Rey del Pop",
                autor: "J. Randy Taraborrelli",
                tipo: "biografias",
                descripcion: "Biograf√≠a completa de Michael Jackson, desde los Jackson 5 hasta su legado como el artista m√°s exitoso de todos los tiempos.",
                imagen: "https://images.unsplash.com/photo-1511192336575-5a79af67a629?w=600&h=400&fit=crop",
                a√±o: "2020",
                paginas: "750",
                idioma: "Espa√±ol",
                contenido: `
                    <h1>Michael Jackson: El Rey del Pop</h1>
                    <p class="document-description">Biograf√≠a completa de Michael Jackson, desde los Jackson 5 hasta su legado como el artista m√°s exitoso de todos los tiempos.</p>
                    
                    <h2>Los Primeros A√±os</h2>
                    <p>Michael Joseph Jackson naci√≥ el 29 de agosto de 1958 en Gary, Indiana, siendo el s√©ptimo de nueve hijos de la familia Jackson. Desde muy temprana edad, mostr√≥ un talento extraordinario para la m√∫sica y el baile, siendo descubierto por su padre Joe Jackson como un ni√±o prodigio.</p>
                    
                    <h2>Jackson 5: Los Inicios</h2>
                    <p>A la edad de cinco a√±os, Michael ya era el vocalista principal de los Jackson 5, junto con sus hermanos Jackie, Tito, Jermaine y Marlon. El grupo firm√≥ con Motown Records en 1968 y r√°pidamente alcanz√≥ la fama con √©xitos como "I Want You Back", "ABC" y "I'll Be There".</p>
                    
                    <h2>Carrera en Solitario</h2>
                    <h3>Off the Wall (1979)</h3>
                    <p>Su primer √°lbum en solitario de √©xito masivo, "Off the Wall", estableci√≥ a Michael como una estrella independiente. Producido por Quincy Jones, el √°lbum incluy√≥ √©xitos como "Don't Stop 'Til You Get Enough" y "Rock with You".</p>
                    
                    <h3>Thriller (1982): El Fen√≥meno</h3>
                    <p>"Thriller" se convirti√≥ en el √°lbum m√°s vendido de todos los tiempos, con m√°s de 66 millones de copias vendidas mundialmente. El √°lbum incluy√≥ siete singles que alcanzaron el Top 10, incluyendo "Billie Jean", "Beat It" y la canci√≥n hom√≥nima "Thriller", acompa√±ada de un innovador video musical de 14 minutos dirigido por John Landis.</p>
                    
                    <blockquote>"El objetivo de mi vida ha sido entregar al mundo algo que nadie pueda igualar." - Michael Jackson</blockquote>
                    
                    <h2>Innovaci√≥n en Videos Musicales</h2>
                    <p>Michael Jackson revolucion√≥ el formato del video musical, transform√°ndolo de una simple herramienta promocional en una forma de arte narrativa. Sus videos, especialmente "Thriller" y "Billie Jean", establecieron nuevos est√°ndares de producci√≥n y narrativa.</p>
                    
                    <h2>El Moonwalk y Sus Movimientos</h2>
                    <p>Su estilo de baile √∫nico, incluido el ic√≥nico "moonwalk", combin√≥ elementos de popping, locking y breakdancing, creando un estilo completamente nuevo que influenciar√≠a a generaciones de bailarines.</p>
                    
                    <h2>Reconocimientos y Logros</h2>
                    <ul>
                        <li>13 premios Grammy</li>
                        <li>Guinness World Records: "√Ålbum m√°s vendido de todos los tiempos" (Thriller)</li>
                        <li>M√°s de 400 millones de √°lbumes vendidos mundialmente</li>
                        <li>Primer artista en ganar el Grammy Legend Award</li>
                    </ul>
                    
                    <h2>Legado</h2>
                    <p>Michael Jackson falleci√≥ el 25 de junio de 2009, pero su legado perdura. Fue un artista que trascendi√≥ g√©neros, razas y culturas, unificando a millones de personas a trav√©s de su m√∫sica. Su influencia se extiende a pr√°cticamente todos los artistas pop contempor√°neos, desde Justin Timberlake hasta The Weeknd.</p>
                    
                    <p>Conocido como "El Rey del Pop", Michael Jackson no solo fue un m√∫sico excepcional, sino tambi√©n un innovador, un fil√°ntropo y un √≠cono cultural cuyo impacto en la m√∫sica popular es incomparable.</p>
                `
            },
            {
                id: 7,
                titulo: "Art√≠culo: La M√∫sica en la Era Digital",
                autor: "Revista Musical Contempor√°nea",
                tipo: "articulos",
                descripcion: "An√°lisis sobre c√≥mo la tecnolog√≠a digital ha transformado la industria musical, desde el streaming hasta la producci√≥n.",
                imagen: "https://images.unsplash.com/photo-1514329926535-6f4e913e298b?w=600&h=400&fit=crop",
                a√±o: "2023",
                paginas: "25",
                idioma: "Espa√±ol"
            },
            {
                id: 8,
                titulo: "Armon√≠a y Contrapunto",
                autor: "Walter Piston",
                tipo: "teoria",
                descripcion: "Tratado cl√°sico sobre armon√≠a y contrapunto, considerado uno de los textos fundamentales en la educaci√≥n musical.",
                imagen: "https://images.unsplash.com/photo-1511192336575-5a79af67a629?w=600&h=400&fit=crop",
                a√±o: "2017",
                paginas: "550",
                idioma: "Espa√±ol"
            },
            {
                id: 9,
                titulo: "La Historia del Blues",
                autor: "Francis Davis",
                tipo: "libros",
                descripcion: "Historia completa del blues desde sus ra√≠ces africanas hasta su influencia en la m√∫sica moderna.",
                imagen: "https://images.unsplash.com/photo-1511192336575-5a79af67a629?w=600&h=400&fit=crop",
                a√±o: "2019",
                paginas: "420",
                idioma: "Espa√±ol"
            },
            {
                id: 10,
                titulo: "Documento: M√∫sica Latinoamericana",
                autor: "Centro de Estudios Musicales",
                tipo: "documentos",
                descripcion: "Estudio acad√©mico sobre los g√©neros musicales latinoamericanos, sus caracter√≠sticas y evoluci√≥n hist√≥rica.",
                imagen: "https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=600&h=400&fit=crop",
                a√±o: "2021",
                paginas: "120",
                idioma: "Espa√±ol",
                contenido: `
                    <h1>M√∫sica Latinoamericana</h1>
                    <p class="document-description">Estudio acad√©mico sobre los g√©neros musicales latinoamericanos, sus caracter√≠sticas y evoluci√≥n hist√≥rica.</p>
                    
                    <h2>Introducci√≥n</h2>
                    <p>La m√∫sica latinoamericana es un rico tapiz de tradiciones, g√©neros y estilos que reflejan la diversidad cultural de la regi√≥n. Desde los ritmos ind√≠genas ancestrales hasta las fusiones modernas, la m√∫sica latinoamericana ha influido profundamente en la m√∫sica global.</p>
                    
                    <h2>G√©neros Tradicionales</h2>
                    <h3>Salsa</h3>
                    <p>Originada en el Caribe, especialmente en Cuba y Puerto Rico, la salsa combina elementos de son cubano, jazz y otros ritmos caribe√±os. Artistas como Celia Cruz, Tito Puente y Marc Anthony han llevado la salsa a audiencias internacionales.</p>
                    
                    <h3>Tango</h3>
                    <p>Nacido en los barrios de Buenos Aires a finales del siglo XIX, el tango es m√°s que un g√©nero musical: es una expresi√≥n cultural completa que incluye m√∫sica, danza y poes√≠a. Astor Piazzolla revolucion√≥ el tango en el siglo XX, creando el "tango nuevo".</p>
                    
                    <h3>Bossa Nova</h3>
                    <p>Desarrollada en Brasil en los a√±os 50 y 60, la bossa nova fusiona samba con jazz. Jo√£o Gilberto, Ant√¥nio Carlos Jobim y Astrud Gilberto crearon algunos de los est√°ndares m√°s reconocidos del g√©nero, como "The Girl from Ipanema".</p>
                    
                    <h2>G√©neros Contempor√°neos</h2>
                    <h3>Reggaeton</h3>
                    <p>Emergido de Puerto Rico en los a√±os 90, el reggaeton combina reggae jamaicano, hip hop y ritmos latinos. Artistas como Daddy Yankee, Don Omar y Bad Bunny han convertido el reggaeton en un fen√≥meno global.</p>
                    
                    <h3>Cumbia</h3>
                    <p>Originaria de Colombia, la cumbia se ha extendido por toda Am√©rica Latina, adoptando caracter√≠sticas locales en cada regi√≥n. Es uno de los g√©neros m√°s bailados en festivales y celebraciones latinoamericanas.</p>
                    
                    <h2>Influencia Global</h2>
                    <p>La m√∫sica latinoamericana ha tenido un impacto significativo en la m√∫sica global. Desde el "Despacito" de Luis Fonsi que rompi√≥ r√©cords de streaming, hasta la incorporaci√≥n de elementos latinos en el pop mainstream, la influencia latinoamericana es innegable.</p>
                    
                    <h2>Conclusi√≥n</h2>
                    <p>La m√∫sica latinoamericana contin√∫a evolucionando, fusion√°ndose con g√©neros globales mientras mantiene sus ra√≠ces culturales. Esta riqueza y diversidad hacen de la m√∫sica latinoamericana una de las tradiciones musicales m√°s vibrantes del mundo.</p>
                `
            },
            {
                id: 11,
                titulo: "Art√≠culo: El Impacto del K-Pop Global",
                autor: "Revista de M√∫sica Asi√°tica",
                tipo: "articulos",
                descripcion: "An√°lisis del fen√≥meno K-Pop y su expansi√≥n global, incluyendo el impacto cultural y econ√≥mico.",
                imagen: "https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=600&h=400&fit=crop",
                a√±o: "2023",
                paginas: "18",
                idioma: "Espa√±ol"
            },
            {
                id: 12,
                titulo: "Freddie Mercury: Una Vida Extraordinaria",
                autor: "Lesley-Ann Jones",
                tipo: "biografias",
                descripcion: "Biograf√≠a √≠ntima de Freddie Mercury, el legendario vocalista de Queen, su vida y su legado musical.",
                imagen: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=600&h=400&fit=crop",
                a√±o: "2022",
                paginas: "480",
                idioma: "Espa√±ol",
                contenido: `
                    <h1>Freddie Mercury: Una Vida Extraordinaria</h1>
                    <p class="document-description">Biograf√≠a √≠ntima de Freddie Mercury, el legendario vocalista de Queen, su vida y su legado musical.</p>
                    
                    <h2>Los Primeros A√±os</h2>
                    <p>Farrokh Bulsara naci√≥ el 5 de septiembre de 1946 en Zanz√≠bar, Tanzania. De origen parsi (persa-indi), su familia se traslad√≥ a la India cuando era joven, donde asisti√≥ a la escuela St. Peter's en Panchgani. Fue aqu√≠ donde comenz√≥ a usar el nombre "Freddie" y descubri√≥ su pasi√≥n por la m√∫sica.</p>
                    
                    <h2>La Formaci√≥n de Queen</h2>
                    <p>En 1970, despu√©s de graduarse en dise√±o gr√°fico en el Ealing Art College de Londres, Freddie se uni√≥ a la banda Smile, que inclu√≠a a Brian May y Roger Taylor. Con la incorporaci√≥n de John Deacon al bajo, la banda se rebautiz√≥ como Queen.</p>
                    
                    <h2>El Estilo de Mercury</h2>
                    <p>Freddie Mercury era conocido por su rango vocal extraordinario (cuatro octavas), su presencia esc√©nica carism√°tica y su capacidad para conectar con las audiencias. Sus actuaciones en vivo eran legendarias, especialmente su interpretaci√≥n de "Radio Ga Ga" en Live Aid 1985, considerada una de las mejores actuaciones en vivo de todos los tiempos.</p>
                    
                    <blockquote>"Soy solo un individuo que intenta ir m√°s all√° de la limitaci√≥n de los prejuicios de la humanidad." - Freddie Mercury</blockquote>
                    
                    <h2>√âxitos y Legado</h2>
                    <p>Queen produjo algunos de los hits m√°s memorables del rock, incluyendo "Bohemian Rhapsody", "We Will Rock You", "Don't Stop Me Now" y "We Are the Champions". Freddie tambi√©n tuvo una exitosa carrera en solitario con √°lbumes como "Mr. Bad Guy" y colaboraciones con Montserrat Caball√©.</p>
                    
                    <h2>Vida Personal y Legado</h2>
                    <p>Freddie Mercury falleci√≥ el 24 de noviembre de 1991 debido a complicaciones relacionadas con el SIDA. Su muerte fue un momento de luto global, pero tambi√©n ayud√≥ a aumentar la concienciaci√≥n sobre la enfermedad.</p>
                    
                    <p>Su legado perdura no solo en la m√∫sica de Queen, que sigue siendo popular d√©cadas despu√©s de su muerte, sino tambi√©n en su impacto en la cultura pop. Mercury desafi√≥ las normas de g√©nero y sexualidad, convirti√©ndose en un √≠cono para la comunidad LGBTQ+ y para todos aquellos que celebran la individualidad.</p>
                    
                    <h2>Reconocimientos</h2>
                    <ul>
                        <li>Inducido al Sal√≥n de la Fama del Rock and Roll (2001, p√≥stumo)</li>
                        <li>Premio Brit a la Contribuci√≥n Destacada a la M√∫sica (1992, p√≥stumo)</li>
                        <li>La pel√≠cula biogr√°fica "Bohemian Rhapsody" gan√≥ m√∫ltiples premios, incluyendo el Oscar a Mejor Actor para Rami Malek</li>
                    </ul>
                `
            }
        ];

        // Iconos por tipo
        const tipoIconos = {
            libros: 'üìñ',
            documentos: 'üìÑ',
            articulos: 'üì∞',
            biografias: 'üë§',
            teoria: 'üéº'
        };

        // Nombres de tipos
        const tipoNombres = {
            libros: 'Libro',
            documentos: 'Documento',
            articulos: 'Art√≠culo',
            biografias: 'Biograf√≠a',
            teoria: 'Teor√≠a Musical'
        };

        let filtroActual = 'all';

        // Cargar recursos al iniciar
        document.addEventListener('DOMContentLoaded', () => {
            cargarRecursos();
            inicializarFiltros();
            inicializarMenu();
            inicializarModoOscuro();
            
            // Inicializar modal
            const modal = document.getElementById('documentModal');
            const closeBtn = document.getElementById('documentModalClose');
            
            if (closeBtn) {
                closeBtn.addEventListener('click', cerrarModal);
            }
            
            if (modal) {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        cerrarModal();
                    }
                });
            }
        });

        function cargarRecursos(filtro = 'all') {
            const grid = document.getElementById('bibliotecaGrid');
            if (!grid) return;

            let recursosFiltrados = filtro === 'all' 
                ? recursosBiblioteca 
                : recursosBiblioteca.filter(r => r.tipo === filtro);

            if (recursosFiltrados.length === 0) {
                grid.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: var(--color-texto-muted); padding: var(--spacing-xl);">No hay recursos disponibles en esta categor√≠a.</p>';
                return;
            }

            grid.innerHTML = recursosFiltrados.map(recurso => `
                <div class="biblioteca-item">
                    <div class="biblioteca-item-image">
                        <img src="${recurso.imagen}" alt="${recurso.titulo}" 
                             onerror="this.src='https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=600&h=400&fit=crop'">
                        <div class="biblioteca-item-badge">${tipoIconos[recurso.tipo]}</div>
                    </div>
                    <div class="biblioteca-item-content">
                        <h3 class="biblioteca-item-title">${recurso.titulo}</h3>
                        <p class="biblioteca-item-author">Por ${recurso.autor}</p>
                        <p class="biblioteca-item-description">${recurso.descripcion}</p>
                        <div class="biblioteca-item-meta">
                            <div class="biblioteca-item-type">
                                <span>${tipoIconos[recurso.tipo]}</span>
                                <span>${tipoNombres[recurso.tipo]}</span>
                            </div>
                            <div class="biblioteca-item-actions">
                                <button class="biblioteca-btn" onclick="verRecurso(${recurso.id})">Ver</button>
                                <button class="biblioteca-btn" onclick="descargarRecurso(${recurso.id})">üì•</button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');

            // Animaci√≥n de aparici√≥n
            const items = grid.querySelectorAll('.biblioteca-item');
            items.forEach((item, index) => {
                item.style.opacity = '0';
                item.style.transform = 'translateY(30px)';
                setTimeout(() => {
                    item.style.transition = 'all 0.6s ease-out';
                    item.style.opacity = '1';
                    item.style.transform = 'translateY(0)';
                }, index * 100);
            });
        }

        function inicializarFiltros() {
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    filtroActual = btn.getAttribute('data-filter');
                    cargarRecursos(filtroActual);
                });
            });
        }

        function verRecurso(id) {
            const recurso = recursosBiblioteca.find(r => r.id === id);
            if (!recurso) return;

            const modal = document.getElementById('documentModal');
            const header = document.getElementById('documentHeader');
            const body = document.getElementById('documentBody');
            const downloadBtn = document.getElementById('downloadBtn');
            const closeBtn = document.getElementById('closeModalBtn');

            // Actualizar header
            header.innerHTML = `
                <div class="document-header-info">
                    <h2 class="document-title">${recurso.titulo}</h2>
                    <div class="document-meta">
                        <span><strong>Autor:</strong> ${recurso.autor}</span>
                        <span><strong>Tipo:</strong> ${tipoIconos[recurso.tipo]} ${tipoNombres[recurso.tipo]}</span>
                        <span><strong>A√±o:</strong> ${recurso.a√±o}</span>
                        <span><strong>P√°ginas:</strong> ${recurso.paginas}</span>
                    </div>
                </div>
            `;

            // Cargar contenido
            if (recurso.contenido) {
                body.innerHTML = `<div class="document-content">${recurso.contenido}</div>`;
            } else {
                body.innerHTML = `
                    <div class="document-content">
                        <p class="document-description">${recurso.descripcion}</p>
                        <div class="document-placeholder">
                            <p>El contenido completo se est√° cargando...</p>
                            <p>Este recurso contiene ${recurso.paginas} p√°ginas de informaci√≥n valiosa sobre ${recurso.titulo.toLowerCase()}.</p>
                            <p>Puedes descargarlo para leerlo completo en tu dispositivo.</p>
                        </div>
                    </div>
                `;
            }

            // Configurar bot√≥n de descarga
            downloadBtn.onclick = () => descargarRecurso(id);
            closeBtn.onclick = () => cerrarModal();

            // Abrir modal
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function descargarRecurso(id) {
            const recurso = recursosBiblioteca.find(r => r.id === id);
            if (!recurso) return;

            // Crear contenido del documento
            let contenidoTexto = `${recurso.titulo}\n`;
            contenidoTexto += `${'='.repeat(recurso.titulo.length)}\n\n`;
            contenidoTexto += `Autor: ${recurso.autor}\n`;
            contenidoTexto += `Tipo: ${tipoNombres[recurso.tipo]}\n`;
            contenidoTexto += `A√±o: ${recurso.a√±o}\n`;
            contenidoTexto += `P√°ginas: ${recurso.paginas}\n`;
            contenidoTexto += `Idioma: ${recurso.idioma}\n\n`;
            contenidoTexto += `${'='.repeat(50)}\n\n`;
            contenidoTexto += `DESCRIPCI√ìN\n`;
            contenidoTexto += `${'='.repeat(50)}\n\n`;
            contenidoTexto += `${recurso.descripcion}\n\n`;
            
            if (recurso.contenido) {
                contenidoTexto += `${'='.repeat(50)}\n\n`;
                contenidoTexto += `CONTENIDO COMPLETO\n`;
                contenidoTexto += `${'='.repeat(50)}\n\n`;
                // Extraer solo texto del HTML si existe
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = recurso.contenido;
                contenidoTexto += tempDiv.textContent || tempDiv.innerText || '';
            } else {
                contenidoTexto += `\n\n${'='.repeat(50)}\n\n`;
                contenidoTexto += `Este documento contiene ${recurso.paginas} p√°ginas de informaci√≥n detallada.\n`;
                contenidoTexto += `Para obtener el contenido completo, visita nuestra biblioteca en l√≠nea.\n\n`;
            }

            // Crear blob y descargar
            const blob = new Blob([contenidoTexto], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${recurso.titulo.replace(/[^a-z0-9]/gi, '_').toLowerCase()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            // Mostrar confirmaci√≥n
            const downloadBtn = document.getElementById('downloadBtn');
            const originalText = downloadBtn.innerHTML;
            downloadBtn.innerHTML = '‚úì Descargado';
            downloadBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
            setTimeout(() => {
                downloadBtn.innerHTML = originalText;
                downloadBtn.style.background = '';
            }, 2000);
        }

        function cerrarModal() {
            const modal = document.getElementById('documentModal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }

        function inicializarMenu() {
            const menuToggle = document.getElementById('menuToggle');
            const navMenu = document.getElementById('navMenu');

            if (menuToggle && navMenu) {
                menuToggle.addEventListener('click', () => {
                    navMenu.classList.toggle('active');
                    menuToggle.classList.toggle('active');
                });
            }
        }

        function inicializarModoOscuro() {
            const themeToggle = document.getElementById('themeToggle');
            const modoGuardado = localStorage.getItem('modoOscuro');
            const esOscuro = modoGuardado === null ? true : modoGuardado === 'true';
            
            if (esOscuro) {
                document.body.classList.remove('light-mode');
            } else {
                document.body.classList.add('light-mode');
            }

            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    const body = document.body;
                    const esOscuro = !body.classList.contains('light-mode');
                    body.classList.toggle('light-mode');
                    localStorage.setItem('modoOscuro', !esOscuro);
                    const themeIcon = document.querySelector('.theme-icon');
                    if (themeIcon) {
                        themeIcon.textContent = esOscuro ? '‚òÄÔ∏è' : 'üåô';
                    }
                });
            }
        }

        // Exportar funciones globales
        window.verRecurso = verRecurso;
        window.descargarRecurso = descargarRecurso;
    </script>
</body>
</html>

